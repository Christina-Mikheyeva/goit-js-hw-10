{"version":3,"file":"1-timer-35666d22.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["\n// Library\n\nimport flatpickr from \"flatpickr\";\n\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (!selectedDates.length) return;\n    const userSelectedDate = selectedDates[0];\n\n    if (userSelectedDate < new Date()) {\n      alert(\"Please choose a date in the future\");\n      return;\n    }\n      \n    startBtn.disabled = false;\n  },\n};\n\nflatpickr(\"#datetime-picker\", options);\niziToast.show()\n\n// Timer\n\nconst startBtn = document.querySelector(\"button[data-start]\");\nstartBtn.addEventListener(\"click\", makeTimerWork)\nfunction makeTimerWork() { \n   const timer = {\n  intervalId: null,\n  isActive: false,\n  start() {\n    if (this.isActive) {\n      return;\n    }\n    this.isActive = true;\n    this.intervalId = setInterval(() => {\n      const userInputDate = date.selectedDates[0];\n      const currentTime = new Date();\n      const timeOff = userInputDate - currentTime;\n      const time = convertMs(timeOff);\n      updateInterfaceTimer(time);\n      if (\n        time.days === 0 &&\n        time.hours === 0 &&\n        time.minutes === 0 &&\n        time.seconds === 0\n      ) {\n        this.stop();\n      }\n    }, 1000);\n  },\n  stop() {\n    clearInterval(this.intervalId);\n    this.isActive = false;\n    refs.btn.disabled = true;\n  },\n}; \n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n\n\n\n"],"names":["options","selectedDates","startBtn","flatpickr","iziToast","makeTimerWork"],"mappings":"svBAYA,MAAMA,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,GAAI,CAACA,EAAc,OAAQ,OAG3B,GAFyBA,EAAc,CAAC,EAEjB,IAAI,KAAQ,CACjC,MAAM,oCAAoC,EAC1C,MACD,CAEDC,EAAS,SAAW,EACrB,CACH,EAEAC,EAAU,mBAAoBH,CAAO,EACrCI,EAAS,KAAM,EAIf,MAAMF,EAAW,SAAS,cAAc,oBAAoB,EAC5DA,EAAS,iBAAiB,QAASG,CAAa,EAChD,SAASA,GAAgB,CA+BzB"}